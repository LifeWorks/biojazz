{
  'Domain' => {
                'RT_phi_max' => '1',
                'RT_phi_min' => '0',
                'RT_phi_width' => 10,
                'RT_transition_rate_max' => '1000',
                'RT_transition_rate_min' => '0.001',
                'RT_transition_rate_width' => 10,
                'TR_transition_rate_max' => '1000',
                'TR_transition_rate_min' => '0.001',
                'TR_transition_rate_width' => 10,
                'allosteric_flag_width' => 1,
                'hard_linker_code' => '000',
                'unused_width' => 32
              },
  'Instantiable' => {
                      'instances' => [],
                      'instances_index' => {}
                    },
  'Named' => {
               'name' => 'Domain'
             },
  'Parser' => {
                'linker_ref' => {
                                  'protodomains' => '000'
                                },
                'mutation_rate_ref' => {
                                         'RT_phi' => '1',
                                         'RT_transition_rate' => '1',
                                         'TR_transition_rate' => '1',
                                         'UNUSED' => '1',
                                         'allosteric_flag' => '1',
                                         'protodomains' => '1',
                                         'protodomains_linker' => '1'
                                       },
                'structure_ref' => [
                                     [
                                       'allosteric_flag',
                                       '\\G.{1}'
                                     ],
                                     [
                                       'RT_transition_rate',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'TR_transition_rate',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'RT_phi',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'UNUSED',
                                       '\\G.{32}'
                                     ],
                                     [
                                       'protodomains',
                                       bless( do{\(my $o = undef)}, 'ProtoDomain' ),
                                       '\\G000(?=.{78})'
                                     ]
                                   ]
              },
  'Set' => {
             'element_class' => 'ProtoDomain',
             'elements_ref' => [
                                 $VAR1->{'Parser'}{'structure_ref'}[5][1]
                               ]
           }
};

Domain min length is: 141
{
  'Instance' => {
                  'parent_class' => 'Domain',
                  'parent_name' => 'Domain',
                  'parent_ref' => bless( do{\(my $o = undef)}, 'Domain' )
                },
  'Named' => {
               'name' => 'D0000'
             },
  'ParserInstance' => {
                        'length' => '222',
                        'locus' => '0',
                        'sequence_ref' => bless( do{\(my $o = undef)}, 'Sequence' ),
                        'start_pos' => 0,
                        'transcription_ref' => {
                                                 'RT_phi' => [
                                                               '1010001101',
                                                               '21',
                                                               '10'
                                                             ],
                                                 'RT_transition_rate' => [
                                                                           '1101010011',
                                                                           '1',
                                                                           '10'
                                                                         ],
                                                 'TR_transition_rate' => [
                                                                           '0100000110',
                                                                           '11',
                                                                           '10'
                                                                         ],
                                                 'UNUSED' => [
                                                               '10011000001011110110111100100011',
                                                               '31',
                                                               '32'
                                                             ],
                                                 'allosteric_flag' => [
                                                                        '1',
                                                                        '0',
                                                                        '1'
                                                                      ],
                                                 'protodomains' => [
                                                                     [
                                                                       bless( do{\(my $o = undef)}, 'ProtoDomainInstance' ),
                                                                       '63',
                                                                       '78'
                                                                     ],
                                                                     [
                                                                       bless( do{\(my $o = undef)}, 'ProtoDomainInstance' ),
                                                                       '144',
                                                                       '78'
                                                                     ]
                                                                   ],
                                                 'protodomains_linker' => [
                                                                            [
                                                                              '000',
                                                                              '141',
                                                                              '3'
                                                                            ]
                                                                          ]
                                               },
                        'transcription_valid_flag' => 1,
                        'translation_ref' => {
                                               'RT_phi' => '0.638318670576735',
                                               'RT_transition_rate' => '97.9946454712025',
                                               'TR_transition_rate' => '0.0344077989175829',
                                               'UNUSED' => '10011000001011110110111100100011',
                                               'allosteric_flag' => '1',
                                               'protodomains' => [
                                                                   {
                                                                     'Keq_ratio' => '3.58304447894243',
                                                                     'UNUSED' => '10111000001010011011100',
                                                                     'binding_profile' => '1101',
                                                                     'kb_conformation_mask' => '0001',
                                                                     'kb_polarity_mask' => '0000',
                                                                     'kb_profile' => '0000',
                                                                     'kf_conformation_mask' => '000011',
                                                                     'kf_polarity_mask' => '001000',
                                                                     'kf_profile' => '110111',
                                                                     'kp_conformation_mask' => '1100',
                                                                     'kp_profile' => '1010',
                                                                     'substrate_polarity' => '1',
                                                                     'type' => 'csite'
                                                                   },
                                                                   {
                                                                     'Keq_ratio' => '43.5808992932567',
                                                                     'UNUSED' => '11000011111001010011111',
                                                                     'binding_profile' => '0100',
                                                                     'kb_conformation_mask' => '0000',
                                                                     'kb_polarity_mask' => '1001',
                                                                     'kb_profile' => '0110',
                                                                     'kf_conformation_mask' => '010011',
                                                                     'kf_polarity_mask' => '000100',
                                                                     'kf_profile' => '110010',
                                                                     'kp_conformation_mask' => '0111',
                                                                     'kp_profile' => '0010',
                                                                     'substrate_polarity' => '1',
                                                                     'type' => 'csite'
                                                                   }
                                                                 ]
                                             },
                        'translation_valid_flag' => 1,
                        'upper_ref' => ''
                      }
};

{
  'Instance' => {
                  'parent_class' => 'ProtoDomain',
                  'parent_name' => 'ProtoDomain',
                  'parent_ref' => bless( do{\(my $o = undef)}, 'ProtoDomain' )
                },
  'Named' => {
               'name' => 'PD0063'
             },
  'ParserInstance' => {
                        'length' => '78',
                        'locus' => '63',
                        'sequence_ref' => bless( do{\(my $o = undef)}, 'Sequence' ),
                        'start_pos' => 63,
                        'transcription_ref' => {
                                                 'Keq_ratio' => [
                                                                  '1001011110',
                                                                  '84',
                                                                  '10'
                                                                ],
                                                 'UNUSED' => [
                                                               '10111000001010011011100',
                                                               '118',
                                                               '23'
                                                             ],
                                                 'binding_profile' => [
                                                                        '1101',
                                                                        '66',
                                                                        '4'
                                                                      ],
                                                 'kb_conformation_mask' => [
                                                                             '0001',
                                                                             '110',
                                                                             '4'
                                                                           ],
                                                 'kb_polarity_mask' => [
                                                                         '0000',
                                                                         '100',
                                                                         '4'
                                                                       ],
                                                 'kb_profile' => [
                                                                   '0000',
                                                                   '76',
                                                                   '4'
                                                                 ],
                                                 'kf_conformation_mask' => [
                                                                             '000011',
                                                                             '104',
                                                                             '6'
                                                                           ],
                                                 'kf_polarity_mask' => [
                                                                         '001000',
                                                                         '94',
                                                                         '6'
                                                                       ],
                                                 'kf_profile' => [
                                                                   '110111',
                                                                   '70',
                                                                   '6'
                                                                 ],
                                                 'kp_conformation_mask' => [
                                                                             '1100',
                                                                             '114',
                                                                             '4'
                                                                           ],
                                                 'kp_profile' => [
                                                                   '1010',
                                                                   '80',
                                                                   '4'
                                                                 ],
                                                 'substrate_polarity' => [
                                                                           '1',
                                                                           '65',
                                                                           '1'
                                                                         ],
                                                 'type' => [
                                                             '10',
                                                             '63',
                                                             '2'
                                                           ]
                                               },
                        'transcription_valid_flag' => 1,
                        'translation_ref' => {
                                               'Keq_ratio' => '3.58304447894243',
                                               'UNUSED' => '10111000001010011011100',
                                               'binding_profile' => '1101',
                                               'kb_conformation_mask' => '0001',
                                               'kb_polarity_mask' => '0000',
                                               'kb_profile' => '0000',
                                               'kf_conformation_mask' => '000011',
                                               'kf_polarity_mask' => '001000',
                                               'kf_profile' => '110111',
                                               'kp_conformation_mask' => '1100',
                                               'kp_profile' => '1010',
                                               'substrate_polarity' => '1',
                                               'type' => 'csite'
                                             },
                        'translation_valid_flag' => 1,
                        'upper_ref' => bless( do{\(my $o = undef)}, 'DomainInstance' )
                      },
  'ProtoDomainInstance' => {
                             'allosteric_flag' => '1'
                           }
};

{
  'Instance' => {
                  'parent_class' => 'ProtoDomain',
                  'parent_name' => 'ProtoDomain',
                  'parent_ref' => bless( do{\(my $o = undef)}, 'ProtoDomain' )
                },
  'Named' => {
               'name' => 'PD0144'
             },
  'ParserInstance' => {
                        'length' => '78',
                        'locus' => '144',
                        'sequence_ref' => bless( do{\(my $o = undef)}, 'Sequence' ),
                        'start_pos' => 144,
                        'transcription_ref' => {
                                                 'Keq_ratio' => [
                                                                  '1100010111',
                                                                  '165',
                                                                  '10'
                                                                ],
                                                 'UNUSED' => [
                                                               '11000011111001010011111',
                                                               '199',
                                                               '23'
                                                             ],
                                                 'binding_profile' => [
                                                                        '0100',
                                                                        '147',
                                                                        '4'
                                                                      ],
                                                 'kb_conformation_mask' => [
                                                                             '0000',
                                                                             '191',
                                                                             '4'
                                                                           ],
                                                 'kb_polarity_mask' => [
                                                                         '1001',
                                                                         '181',
                                                                         '4'
                                                                       ],
                                                 'kb_profile' => [
                                                                   '0110',
                                                                   '157',
                                                                   '4'
                                                                 ],
                                                 'kf_conformation_mask' => [
                                                                             '010011',
                                                                             '185',
                                                                             '6'
                                                                           ],
                                                 'kf_polarity_mask' => [
                                                                         '000100',
                                                                         '175',
                                                                         '6'
                                                                       ],
                                                 'kf_profile' => [
                                                                   '110010',
                                                                   '151',
                                                                   '6'
                                                                 ],
                                                 'kp_conformation_mask' => [
                                                                             '0111',
                                                                             '195',
                                                                             '4'
                                                                           ],
                                                 'kp_profile' => [
                                                                   '0010',
                                                                   '161',
                                                                   '4'
                                                                 ],
                                                 'substrate_polarity' => [
                                                                           '1',
                                                                           '146',
                                                                           '1'
                                                                         ],
                                                 'type' => [
                                                             '10',
                                                             '144',
                                                             '2'
                                                           ]
                                               },
                        'transcription_valid_flag' => 1,
                        'translation_ref' => {
                                               'Keq_ratio' => '43.5808992932567',
                                               'UNUSED' => '11000011111001010011111',
                                               'binding_profile' => '0100',
                                               'kb_conformation_mask' => '0000',
                                               'kb_polarity_mask' => '1001',
                                               'kb_profile' => '0110',
                                               'kf_conformation_mask' => '010011',
                                               'kf_polarity_mask' => '000100',
                                               'kf_profile' => '110010',
                                               'kp_conformation_mask' => '0111',
                                               'kp_profile' => '0010',
                                               'substrate_polarity' => '1',
                                               'type' => 'csite'
                                             },
                        'translation_valid_flag' => 1,
                        'upper_ref' => bless( do{\(my $o = undef)}, 'DomainInstance' )
                      },
  'ProtoDomainInstance' => {
                             'allosteric_flag' => '1'
                           }
};

ReactionSite : {
    name => "PD0063",
    type => "csite",
    Keq_ratio => 3.58304447894243,
}

ReactionSite : {
    name => "PD0144",
    type => "csite",
    Keq_ratio => 43.5808992932567,
}
AllostericStructure : {
    name => "D0000",
    allosteric_flag => 1,
    allosteric_transition_rates => [97.9946454712025,0.0344077989175829],
    Phi => 0.638318670576735,
    elements => [PD0063,PD0144],
}

STORABLE TEST
{
  'Domain' => {
                'RT_phi_max' => '1',
                'RT_phi_min' => '0',
                'RT_phi_width' => 10,
                'RT_transition_rate_max' => '1000',
                'RT_transition_rate_min' => '0.001',
                'RT_transition_rate_width' => 10,
                'TR_transition_rate_max' => '1000',
                'TR_transition_rate_min' => '0.001',
                'TR_transition_rate_width' => 10,
                'allosteric_flag_width' => 1,
                'hard_linker_code' => '000',
                'unused_width' => 32
              },
  'Instantiable' => {
                      'instances' => [],
                      'instances_index' => {}
                    },
  'Named' => {
               'name' => 'Domain'
             },
  'Parser' => {
                'linker_ref' => {
                                  'protodomains' => '000'
                                },
                'mutation_rate_ref' => {
                                         'RT_phi' => '1',
                                         'RT_transition_rate' => '1',
                                         'TR_transition_rate' => '1',
                                         'UNUSED' => '1',
                                         'allosteric_flag' => '1',
                                         'protodomains' => '1',
                                         'protodomains_linker' => '1'
                                       },
                'structure_ref' => [
                                     [
                                       'allosteric_flag',
                                       '\\G.{1}'
                                     ],
                                     [
                                       'RT_transition_rate',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'TR_transition_rate',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'RT_phi',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'UNUSED',
                                       '\\G.{32}'
                                     ],
                                     [
                                       'protodomains',
                                       bless( do{\(my $o = undef)}, 'ProtoDomain' ),
                                       '\\G000(?=.{78})'
                                     ]
                                   ]
              },
  'Set' => {
             'element_class' => 'ProtoDomain',
             'elements_ref' => [
                                 $VAR1->{'Parser'}{'structure_ref'}[5][1]
                               ]
           }
};

{
  'Domain' => {
                'RT_phi_max' => 1,
                'RT_phi_min' => 0,
                'RT_phi_width' => '10',
                'RT_transition_rate_max' => 1000,
                'RT_transition_rate_min' => '0.001',
                'RT_transition_rate_width' => '10',
                'TR_transition_rate_max' => 1000,
                'TR_transition_rate_min' => '0.001',
                'TR_transition_rate_width' => '10',
                'allosteric_flag_width' => 1,
                'hard_linker_code' => '000',
                'unused_width' => '32'
              },
  'Instantiable' => {
                      'instances' => [],
                      'instances_index' => {}
                    },
  'Named' => {
               'name' => 'Domain'
             },
  'Parser' => {
                'linker_ref' => {
                                  'protodomains' => '000'
                                },
                'mutation_rate_ref' => {
                                         'RT_phi' => '1',
                                         'RT_transition_rate' => '1',
                                         'TR_transition_rate' => '1',
                                         'UNUSED' => '1',
                                         'allosteric_flag' => '1',
                                         'protodomains' => '1',
                                         'protodomains_linker' => '1'
                                       },
                'structure_ref' => [
                                     [
                                       'allosteric_flag',
                                       '\\G.{1}'
                                     ],
                                     [
                                       'RT_transition_rate',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'TR_transition_rate',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'RT_phi',
                                       '\\G.{10}'
                                     ],
                                     [
                                       'UNUSED',
                                       '\\G.{32}'
                                     ],
                                     [
                                       'protodomains',
                                       bless( do{\(my $o = undef)}, 'ProtoDomain' ),
                                       '\\G000(?=.{78})'
                                     ]
                                   ]
              },
  'Set' => {
             'element_class' => 'ProtoDomain',
             'elements_ref' => [
                                 $VAR1->{'Parser'}{'structure_ref'}[5][1]
                               ]
           }
};

UNTRANSLATE TEST
$VAR1 = {
          'RT_phi' => '0111001100',
          'RT_transition_rate' => '1010101010',
          'TR_transition_rate' => '0101010101',
          'UNUSED' => '00000000000000000000000000000100',
          'allosteric_flag' => '1',
          'protodomains' => [
                              {
                                'Keq_ratio' => '0000000000',
                                'UNUSED' => '00000000000001000000001',
                                'binding_profile' => '0010',
                                'kb_conformation_mask' => '1100',
                                'kb_polarity_mask' => '0011',
                                'kb_profile' => '1011',
                                'kf_conformation_mask' => '001111',
                                'kf_polarity_mask' => '000000',
                                'kf_profile' => '000011',
                                'kp_conformation_mask' => '0101',
                                'kp_profile' => '0011',
                                'substrate_polarity' => '1',
                                'type' => '10'
                              },
                              {
                                'Keq_ratio' => '0010101011',
                                'UNUSED' => '00000000000001000000011',
                                'binding_profile' => '0110',
                                'kb_conformation_mask' => '1100',
                                'kb_polarity_mask' => '0011',
                                'kb_profile' => '1011',
                                'kf_conformation_mask' => '001111',
                                'kf_polarity_mask' => '000000',
                                'kf_profile' => '000011',
                                'kp_conformation_mask' => '0101',
                                'kp_profile' => '0011',
                                'substrate_polarity' => '1',
                                'type' => '01'
                              },
                              {
                                'Keq_ratio' => '0101010101',
                                'UNUSED' => '00000000000001000000111',
                                'binding_profile' => '0111',
                                'kb_conformation_mask' => '1100',
                                'kb_polarity_mask' => '0011',
                                'kb_profile' => '1011',
                                'kf_conformation_mask' => '001111',
                                'kf_polarity_mask' => '000000',
                                'kf_profile' => '000011',
                                'kp_conformation_mask' => '0101',
                                'kp_profile' => '0011',
                                'substrate_polarity' => '0',
                                'type' => '00'
                              }
                            ]
        };

110101010100101010101011100110000000000000000000000000000000100101001000001110110011000000000000000000110011111100010100000000000001000000001000011011000001110110011001010101100000000110011111100010100000000000001000000011000000011100001110110011010101010100000000110011111100010100000000000001000000111
{
  'Instance' => {
                  'parent_class' => 'Domain',
                  'parent_name' => 'Domain',
                  'parent_ref' => bless( do{\(my $o = undef)}, 'Domain' )
                },
  'Named' => {
               'name' => 'D0000'
             },
  'ParserInstance' => {
                        'length' => '303',
                        'locus' => '0',
                        'sequence_ref' => bless( do{\(my $o = undef)}, 'Sequence' ),
                        'start_pos' => 0,
                        'transcription_ref' => {
                                                 'RT_phi' => [
                                                               '0111001100',
                                                               '21',
                                                               '10'
                                                             ],
                                                 'RT_transition_rate' => [
                                                                           '1010101010',
                                                                           '1',
                                                                           '10'
                                                                         ],
                                                 'TR_transition_rate' => [
                                                                           '0101010101',
                                                                           '11',
                                                                           '10'
                                                                         ],
                                                 'UNUSED' => [
                                                               '00000000000000000000000000000100',
                                                               '31',
                                                               '32'
                                                             ],
                                                 'allosteric_flag' => [
                                                                        '1',
                                                                        '0',
                                                                        '1'
                                                                      ],
                                                 'protodomains' => [
                                                                     [
                                                                       bless( do{\(my $o = undef)}, 'ProtoDomainInstance' ),
                                                                       '63',
                                                                       '78'
                                                                     ],
                                                                     [
                                                                       bless( do{\(my $o = undef)}, 'ProtoDomainInstance' ),
                                                                       '144',
                                                                       '78'
                                                                     ],
                                                                     [
                                                                       bless( do{\(my $o = undef)}, 'ProtoDomainInstance' ),
                                                                       '225',
                                                                       '78'
                                                                     ]
                                                                   ],
                                                 'protodomains_linker' => [
                                                                            [
                                                                              '000',
                                                                              '141',
                                                                              '3'
                                                                            ],
                                                                            [
                                                                              '000',
                                                                              '222',
                                                                              '3'
                                                                            ]
                                                                          ]
                                               },
                        'transcription_valid_flag' => 1,
                        'translation_ref' => {
                                               'RT_phi' => '0.449657869012708',
                                               'RT_transition_rate' => '9.99999999999999',
                                               'TR_transition_rate' => '0.1',
                                               'UNUSED' => '00000000000000000000000000000100',
                                               'allosteric_flag' => '1',
                                               'protodomains' => [
                                                                   {
                                                                     'Keq_ratio' => '0.001',
                                                                     'UNUSED' => '00000000000001000000001',
                                                                     'binding_profile' => '0010',
                                                                     'kb_conformation_mask' => '1100',
                                                                     'kb_polarity_mask' => '0011',
                                                                     'kb_profile' => '1011',
                                                                     'kf_conformation_mask' => '001111',
                                                                     'kf_polarity_mask' => '000000',
                                                                     'kf_profile' => '000011',
                                                                     'kp_conformation_mask' => '0101',
                                                                     'kp_profile' => '0011',
                                                                     'substrate_polarity' => '1',
                                                                     'type' => 'csite'
                                                                   },
                                                                   {
                                                                     'Keq_ratio' => '0.0100677529813686',
                                                                     'UNUSED' => '00000000000001000000011',
                                                                     'binding_profile' => '0110',
                                                                     'kb_conformation_mask' => '1100',
                                                                     'kb_polarity_mask' => '0011',
                                                                     'kb_profile' => '1011',
                                                                     'kf_conformation_mask' => '001111',
                                                                     'kf_polarity_mask' => '000000',
                                                                     'kf_profile' => '000011',
                                                                     'kp_conformation_mask' => '0101',
                                                                     'kp_profile' => '0011',
                                                                     'substrate_polarity' => '1',
                                                                     'type' => 'msite'
                                                                   },
                                                                   {
                                                                     'Keq_ratio' => '0.1',
                                                                     'UNUSED' => '00000000000001000000111',
                                                                     'binding_profile' => '0111',
                                                                     'kb_conformation_mask' => '1100',
                                                                     'kb_polarity_mask' => '0011',
                                                                     'kb_profile' => '1011',
                                                                     'kf_conformation_mask' => '001111',
                                                                     'kf_polarity_mask' => '000000',
                                                                     'kf_profile' => '000011',
                                                                     'kp_conformation_mask' => '0101',
                                                                     'kp_profile' => '0011',
                                                                     'substrate_polarity' => '0',
                                                                     'type' => 'bsite'
                                                                   }
                                                                 ]
                                             },
                        'translation_valid_flag' => 1,
                        'upper_ref' => ''
                      }
};

