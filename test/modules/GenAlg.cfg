#----------------------------------------
# CPU AND CLUSTER SETTINGS
#----------------------------------------
nice = 15
vmem = 750000
local_dir = scoring/localdir

#----------------------------------------
# WORKSPACE AND CUSTOM SCORING MODULE
#----------------------------------------
scoring_class = Scoring
work_dir = scoring

#----------------------------------------
# GENOME PARAMS
#----------------------------------------
# Genome class
radius = 0
kf_max = 1e5
kf_min = 0.1
kb_max = 10
kb_min = 0.001
kp_max = 1000
kp_min = 1

# Gene class
regulated_concentration_width = 4
gene_unused_width = 32
regulated_concentration_max = 1e-3
regulated_concentration_min = 1e-12

# Domain class
RT_transition_rate_width = 5
TR_transition_rate_width = 6
RT_phi_width = 7
domain_unused_width = 8
RT_transition_rate_max = 1e2
RT_transition_rate_min = 1e-2
TR_transition_rate_max = 1e4
TR_transition_rate_min = 1e-4
RT_phi_max = 0.99
RT_phi_min = 0.01

# ProtoDomain class
binding_profile_width = 3
kf_profile_width = 4
kb_profile_width = 5
kp_profile_width = 6
Keq_profile_width = 7
protodomain_unused_width = 10
Keq_ratio_max = 1e2
Keq_ratio_min = 1e-2

#----------------------------------------
# EVOLUTION PARAMS
#----------------------------------------
inum_genomes = 2           # initial number of genomes when generated randomly
max_population = 4         # population size at each generation (except possibly the first generation)
elite_pool_size = 1        # how many individuals to keep unchanged under the elite strategy
num_generations = 2        # total number of generations before evolution stops

first_generation = 0           # first generation number
remove_old_files = 0           # clean out files from a prior run (be careful with this)
score_initial_generation = 1   # whether to score the initial generation (set to 0 if the generation has already been scored)
rescore_elite = 0              # whether to re-score elite individuals (set to 1 if the score has a random component)

initial_genome = random        # generate initial generation randomly

ranking_nonviable = 0.2      # proportion of non-viable low-ranking individuals
ranking_pressure = 1.2       # per-5-centile fold-change in fitness

# mutate everything
#------------------
prob_mutate_params = 0.6
prob_mutate_global = 0.2
prob_recombination = 0.05
prob_duplicate = 0.05
prob_delete = 0.1

# mutate params only
#------------------
#prob_mutate_params = 1.0
#prob_mutate_global = 0.0
#prob_recombination = 0.0
#prob_duplicate = 0.0
#prob_delete = 0.0

mutation_rate = 0.01

#----------------------------------------
# ANC PARAMS
#----------------------------------------
max_external_iterations = 1
max_internal_iterations = 0
max_complex_size = 4
max_species = 40
max_csite_bound_to_msite_number = 2
default_steric_factor = 1e-3
export_graphviz = nothing
#export_graphviz = network,collapse_states,collapse_complexes

#----------------------------------------
# SIMULATION/SCORING PARAMS
#----------------------------------------
plot_input = 0
plot_output = 0
plot_species = 1
plot_phase = 0
plot_min = -1

solver = ode23s

sampling_interval = 0.1
t_final = 100

# MATLAB odeset params
InitialStep = 1e-8
AbsTol = 1e-9
RelTol = 1e-3
MaxStep = 10.0
